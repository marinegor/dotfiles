- defaults:
    link:
      relink: true
      create: true

- clean: ["~"]

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [
        "if ! command -v rustup &> /dev/null; then curl -sSf  https://sh.rustup.rs | sh -s -- -y; fi",
        Installing Rust,
      ]
    - [
        "if ! command -v fzf &> /dev/null; then rm -rf ~/.fzf && git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf && ~/.fzf/install --all; fi",
        "Install fzf",
      ]
    - [
        "if ! command -v pixi &> /dev/null; then curl -fsSL https://pixi.sh/install.sh | sh; fi",
        Installing pixi,
      ]
    - [
        "if ! command -v bun &> /dev/null; then curl -fsSL https://bun.sh/install | bash; fi",
        Installing bun,
      ]
    - [
        "if ! command -v uv &> /dev/null; then curl -LsSf https://astral.sh/uv/install.sh | sh; fi",
        Installing uv,
      ]
    - ["bash scripts/install-nerd-fonts.sh"]

- link:
    ~/.config/nvim:
      path: nvim
      force: true
    ~/.zshrc:
      path: zshrc
      force: true
    ~/.bashrc:
      path: bashrc
      force: true
    ~/.config/starship.toml:
      path: starship.toml
      force: true
    ~/.gitconfig:
      path: gitconfig
      force: true
    ~/.config/justfile:
      path: justfile
      force: true
